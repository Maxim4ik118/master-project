{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/lesson_12/lesson_12.js","webpack:///./src/lesson_12/lesson_12.scss","webpack:///./src/lesson_12/scripts/light.js","webpack:///./src/lesson_12/scripts/lighterController.js","webpack:///./src/lesson_12/scripts/treafficLighter.js"],"names":["control","LighterController","document","querySelector","someLight","Light","someLight2","someLight3","someLight4","target","color","onClick","isActive","render","element","createElement","classList","add","onclick","toggle","appendChild","toggleOff","toggleOn","style","backgroundColor","targetElement","lighters","renderButtons","container","header","content","addButton","toggleOnButton","toggleOffButton","textContent","addLighter","toggleOffAllLighters","lighter","TrafficLighterES6","push","id","colors","lights","activeIndex","renderLights","startAutoSwitch","length","validateNextIndex","enableLight","clearInterval","intervalId","setInterval","nextLight","onmouseenter","stopAutoSwitch","onmouseleave","light","currentIndex","indexOf","console","log"],"mappings":"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","file":"lesson_12.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 8);\n","import './lesson_12.scss';\nimport { LighterController } from './scripts/lighterController';\nimport { Light } from './scripts/light';\n\n\nconst control = new LighterController( document.querySelector('body'));\nconst someLight = new Light( document.querySelector('body'));\nconst someLight2 = new Light( document.querySelector('body'), 'lime');\nconst someLight3 = new Light( document.querySelector('body'), 'turquoise');\nconst someLight4 = new Light( document.querySelector('body'), 'purple');\n\n","// extracted by mini-css-extract-plugin","export class Light {\r\n    constructor(target, color = 'aqua', onClick){\r\n        this.target = target;\r\n        this.color = color\r\n        this.onClick = onClick;\r\n        this.isActive = false;\r\n        this.render();\r\n    }\r\n\r\n    render() {\r\n      this.element = document.createElement( 'button' );\r\n      this.element.classList.add( 'traffic-lighter__light' );\r\n      this.element.onclick = () => {\r\n          if( this.onClick ) { \r\n          this.onClick()\r\n        } \r\n        this.toggle();\r\n    }\r\n      this.target.appendChild( this.element );\r\n    }\r\n\r\n    toggle() {\r\n        if(this.isActive) {\r\n            this.toggleOff();\r\n        } else {\r\n            this.toggleOn();        }\r\n    }\r\n\r\n    toggleOn() {\r\n        this.element.style.backgroundColor = this.color;\r\n        this.isActive = true;\r\n    }\r\n\r\n    toggleOff() {\r\n        this.element.style.backgroundColor = '';\r\n        this.isActive = false;\r\n    }\r\n}","import { TrafficLighterES6 } from \"./treafficLighter\";\r\n\r\nexport class LighterController {\r\n    constructor(targetElement){\r\n        this.targetElement = targetElement;\r\n        this.lighters = [];\r\n        this.render();\r\n        this.renderButtons();\r\n    }\r\n    render() {\r\n        const container = document.createElement('div');\r\n        this.header = document.createElement('header');\r\n        this.content = document.createElement('div');\r\n\r\n        container.appendChild(this.header);\r\n        container.appendChild(this.content);\r\n        this.targetElement.appendChild(container);\r\n    }\r\n    renderButtons() {\r\n        const addButton = document.createElement('button');\r\n        const toggleOnButton = document.createElement('button');\r\n        const toggleOffButton = document.createElement('button');\r\n\r\n        addButton.textContent = '+';\r\n        toggleOnButton.textContent = 'on';\r\n        toggleOffButton.textContent = 'off';\r\n        addButton.onclick = () => {\r\n            this.addLighter();\r\n        }\r\n        toggleOffButton.onclick = () => {\r\n            this.toggleOffAllLighters();\r\n        }\r\n        toggleOnButton.onclick = () => {\r\n            this.toggleOffAllLighters();\r\n        }\r\n\r\n        this.header.appendChild(addButton);\r\n        this.header.appendChild(toggleOnButton);\r\n        this.header.appendChild(toggleOffButton);\r\n    }\r\n\r\n    toggleOffAllLighters() {\r\n        for( let lighter of this.lighters ) {\r\n            lighter.toggleOff();\r\n        }\r\n    }\r\n    toggleOnAllLighters() {\r\n        for( let lighter of this.lighters) {\r\n            lighter.toggleOn();\r\n        }\r\n    }\r\n\r\n    addLighter() {\r\n        const lighter = new TrafficLighterES6(this.content);\r\n        this.lighters.push(lighter);\r\n    }\r\n}","import { Light } from \"./light\";\n\nclass TrafficLighterES6 {\n  constructor (targetElement, id) {\n    this.targetElement = targetElement;\n    this.colors = [ 'red', 'yellow', 'green' ];\n    this.lights = [];\n    this.lighter = 'asdas';\n    this.id = id;\n    this.activeIndex = 0;\n    this.render();\n    this.renderLights();\n\n    this.startAutoSwitch();\n  }\n\n  validateNextIndex() {\n    return this.activeIndex + 1 < this.colors.length;\n  }\n\n  nextLight() {\n    this.activeIndex = this.validateNextIndex() ? this.activeIndex + 1 : 0;\n    this.enableLight();\n  }\n\n  enableLight() {\n    this.toggleOff();\n    this.lights[this.activeIndex].toggleOn();\n  }\n\n  stopAutoSwitch() {\n    clearInterval(this.intervalId);\n  }\n\n  startAutoSwitch() {\n    this.intervalId = setInterval(() => {\n      this.nextLight();\n    }, 1000);\n  }\n\n  render() {\n    this.lighter = document.createElement( 'div' );\n    this.lighter.classList.add( 'traffic-lighter' );\n    this.lighter.id = 'lighter1';\n    this.lighter.onmouseenter = () => {\n      this.stopAutoSwitch()\n    }\n    this.lighter.onmouseleave = () => {\n      this.startAutoSwitch()\n    }\n    this.targetElement.appendChild( this.lighter );\n  }\n\n  renderLights() {\n    for ( let color of this.colors ) {\n     const light = new Light(this.lighter, color, () => {\n       this.toggleOff();\n       const currentIndex = this.lights.indexOf(light);\n       this.activeIndex = currentIndex;\n       console.log(this.activeIndex);\n     });\n     this.lights.push(light);\n    }\n  }\n\n  toggleOff() {\n    console.log( this.id );\n    for ( const light of this.lights ) {\n      light.toggleOff();\n    }\n  }\n\n  toggleOn() {\n    this.lights[0].toggleOn();\n  }\n  disable() {\n    this.toggleOff();\n  }\n\n}\nexport { TrafficLighterES6 };"],"sourceRoot":""}